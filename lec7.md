# 第7回目
## 繰り返し処理（基礎編）

### 繰り返し処理
- 条件を満たしている間ずっと，コードブロックにあるプログラムを繰り返し行うことができる
  - 例1: サイコロの目で1が出るまで，サイコロを振り続ける
  - 例2: 合計金額が2000円を超えるまで，お寿司を食べ続ける
- 繰り返し処理を行う場合，```while```文，```for```文を使用する

### while文
  - ```while```文を使用することで，コードブロックにあるプログラムを繰り返すことができる
    - ```while```文の条件式を満たしている間ずっと，プログラムが実行される

```python
while 条件式:
    # 条件式を満たしている間， 
    # コードブロックを繰り返して実行する
```
- コロン( ```:``` )を忘れずに，記述する

```python
# 例: 0から10を1つずつ出力する
i = 0
while i < 11:
  print(i)
  i += 1
  # 変数iが11未満の間ずっと繰り返す
```

### while文による無限ループ
- ```while```文の条件式を```True```にするとずっと処理を繰り返す無限ループになる
  - ```while```文は無限ループを回避するために条件式をきちんと定義する
- 無限ループがあるプログラムを実行すると，プログラムが終わらない
  - ```break```文を使用することで， 繰り返し処理を抜けることができる
- 意図をせず無限ループに陥るプログラムを実行した場合，停止ボタンを押す

```python
while True:
    break # ここで強制的にループ抜ける
    # この場合は，breakが無いと無限ループになり，プログラムが永遠に終わらない
```

### break文
- 繰り返し処理の中で，```break```文を使用できる
- ```break```文が実行されると，即座にその繰り返し処理のコードブロックから抜ける
```python
# 例: 変数iが2を越えたら break文でループを抜ける
i = 0
while True:
    if i > 2:
        break
    print(i)
    i += 1
# while文だけでなく，if文のコードブロックに注意
```

### continue文
- 繰り返し処理の中で，```continue```文を使用できる
- ```continue```文が実行されると，それ以降の処理をスキップして，即座に繰り返し処理の先頭に戻り，繰り返しの条件式を再評価する
```python
# 例: continue文を使用して変数iが偶数時にループの先頭に戻る
i = 0
while True:
    if i > 10:
        break
    if i % 2 == 0:
        i += 1
        continue
    print(i)
    i += 1
```

### for文
- 『指定した回数だけ』コードのブロックを実行したいとき， ```for```文と```range()```を使用した方が，直感的にプログラムを記述できる
```python
for 変数 in range(繰り返し数):
    # 繰り返し処理
```
- 繰り返し回数に応じて，```range(n)```は指定した変数を ```0, 1, 2, 3, ..., n-1```と変化させる
  - この場合，変数を変えながら，同じ処理をn回繰り返す
  - n回繰り返すが，0から始まり，n-1で終わることに注意する
```python
# 例: 繰り返し回数に応じて，変数iが0, 1, 2と変化するプログラム
for i in range(3):
  print(i)
```
- ```for```文でも```break```文や```continue```文を使用できる

### range()の使い方
- ```range()```のカッコの中に，3つまで整数を書くことができる
  - 複数の値を書く場合，コンマ区切りで書く
- ```range()```のカッコの中に，2つの整数を書いた場合，1番目の値から2番目の値を越えないように繰り返す
  - つまり，```range(m, n)```は ```m, m+1, m+2, ..., n-2, n-1``` と変数を変化させる
```python
# 例: 繰り返し回数に応じて，変数iが3, 4, 5, 6と変化するプログラム
for i in range(3, 7):
  print(i)
```
- ```range()```のカッコの中に，3つの整数を書いた場合，
  - 1番目の値から2番目の値を越えないように繰り返す
  - 3番目の値は繰り返しを行う際の変数の更新量を意味する
    - 3番目の値が正の値: 2番目の値以上にならないように繰り返す
      - 例: ```range(2, 11, 2)```は，2, 4, 6, 8, 10 を表す
    - 3番目の値が負の値: 2番目の値以下にならないように繰り返す
      - 例: ```range(5, 0, -1)```は，5, 4, 3, 2, 1 を表す

```python
# サンプルプログラム
size(600, 600)

background(255, 255, 255)
strokeWeight(4)

# 横線をずらしながら5本引く
for i in range(5):
    line(0, (i+1)*100, width, (i+1)*100)
```

```python
# 色を変えながら，一行に正方形を並べる
size(600, 600)
colorMode(HSB, 360, 100, 100)
background(0, 0, 100)
strokeWeight(2)
for i in range(10):
    fill(24*i, 100, 100)
    rect(60*i, height/2-30, 60, 60)
```

```python
# 色を変えながら，対角線上に正方形を並べる
size(600, 600)
colorMode(HSB, 360, 100, 100)
background(0, 0, 100)
strokeWeight(2)
for i in range(10):
    fill(24*i, 100, 100)
    rect(60*i, 60*i, 60, 60)
```


```python
# マウスの位置に円を連結した十字模様を描く
def setup():
    size(600, 600)

def draw():
    background(255, 255, 255)
    strokeWeight(2)
    fill(0, 255, 255)
    ellipse(mouseX, mouseY, 30, 30)
    for i in range(2):
        ellipse(mouseX-(i+1)*30, mouseY, 30, 30)
        ellipse(mouseX, mouseY-(i+1)*30, 30, 30)
        ellipse(mouseX+(i+1)*30, mouseY, 30, 30)
        ellipse(mouseX, mouseY+(i+1)*30, 30, 30)
```

### 練習問題
- サンプルプログラムを参考に，大きさ600, 600の画面に対して，以下のプログラムを書きなさい
  1. 縦線をずらしながら5本引く
  2. 色を変えながら，一列に正方形を並べる
  3. 色を変えながら，対角線上（右上から左下）に正方形を並べる
  4. 色を変えながら，一行に円を並べる
  5. 色を変えながら，一列に円を並べる
  6. マウスの位置に円を連結した×字模様を描く
